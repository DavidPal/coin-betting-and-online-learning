\section{Proof of Corollary~\ref{corollary:kt-hilbert-space-olo-regret}}
\label{section:lambert}

First we state some technical lemmas that will be used in the following proofs.

Define the Lambert function $W(x):\R\rightarrow\R$ as the one that satisfies
the equality\footnote{For $x<0$ the Lambert function is multivalued. Hence, to
avoid complication and because we only need non-negative arguments, we will
define it only for positive values of $x$.}
\begin{equation}
\label{eq:lambert}
x=W(x) \exp \left(W(x)\right), \ \forall x\geq0.
\end{equation}
It satisfies the following properties.
%
\begin{lemma}
\label{lemma:lambert}
The Lambert function satisfies $0.6321 \log(x+1) \leq W(x) \leq \log(x+1), \forall x\geq0$.
\end{lemma}
%
\begin{proof}
The inequalities are satisfied for $x=0$, hence we in the following we assume $x>0$.
We first prove the lower bound. From \eqref{eq:lambert} we have
\begin{equation}
W(x) = \log\left(\frac{x}{W(x)}\right)~. \label{eq:lm_lambert_1}
%&= \log\left(\frac{x}{\log(x/W(x))}\right). \label{eq:lm_lambert_1b}
\end{equation}
From the first equality, using the elementary inequality $\ln (x) \leq \frac{a}{e} x^\frac{1}{a}$ for any $a>0$, we get
\[
W(x) \leq \frac{1}{a\, e}\left(\frac{x}{W(x)}\right)^a  \ \ \forall a>0,
\]
that is
\begin{equation}
\label{eq:lm_lambert_2}
W(x) \leq \left(\frac{1}{a\, e}\right)^\frac{1}{1+a} x^\frac{a}{1+a} \ \ \forall a>0.
\end{equation}
Using \eqref{eq:lm_lambert_2} in \eqref{eq:lm_lambert_1}, we have
\begin{align*}
W(x)
\geq \log\left(\frac{x}{\left(\frac{1}{a\, e}\right)^\frac{1}{1+a} x^\frac{a}{1+a}}\right)
= \frac{1}{1+a}\log\left(a \, e\, x\right) \ \ \forall a>0~.
\end{align*}
Consider now the function $g(x)=\frac{x}{x+1} - \frac{b}{\log(1+b) (b+1)}
\log(x+1), x\geq b$. This function has a maximum in $x^*=(1+\frac{1}{b})
\log(1+b)-1$, the derivative is positive in $[0,x^*]$ and negative in
$[x^*,b]$. Hence the minimum is in $x=0$ and in $x=b$, where it is equal to
$0$.  Using the property just proved on $g$, setting $a=\frac{1}{x}$, we have
\begin{align*}
W(x)
\geq \frac{x}{x+1} \geq \frac{b}{\log(1+b) (b+1)} \log(x+1) \ \  \forall x\leq b~.
\end{align*}
For $x>b$, setting $a=\frac{x+1}{e x}$, we have
\begin{align}
W(x)
&\geq \frac{e\,x}{(e+1) x + 1} \log(x+1) \geq \frac{e\,b}{(e+1) b + 1} \log(x+1)
\end{align}
Hence, we set $b$ such that
\[
\frac{e\, b}{(e+1)b + 1} = \frac{b}{\log(1+b) (b+1)}
\]
Numerically, $b=1.71825...$, so
\[
W(x) \geq 0.6321 \log(x+1)~.
%\qedhere
\]

For the upper bound, we use Theorem~2.3 in \cite{hoorfar2008inequalities}, that says that
\[
W(x) \leq \log\frac{x+C}{1+\log(C)}, \quad \forall x> -\frac{1}{e}, \ C>\frac{1}{e}.
\]
Setting $C=1$, we obtain the stated bound.
\end{proof}

\begin{lemma}
Define $f(\theta)= \beta \exp\frac{x^2}{2 \alpha}$, for $\alpha,\beta>0$, $x\geq0$. Then
\[
f^*(y)=y \sqrt{\alpha W\left(\frac{\alpha y^2}{\beta^2}\right)} - \beta \exp\left(\frac{W\left(\frac{\alpha y^2}{\beta^2}\right)}{2}\right).
\]
Moreover
\[
f^*(y) \leq y \sqrt{\alpha \log \left(\frac{\alpha y^2}{\beta^2} +1 \right)} - \beta.
\]
\end{lemma}
\begin{proof}
From the definition of Fenchel dual, we have
\begin{align*}
f^*(y)= \max_{x} \  x\, y - f(x) = \max_{x} \  x\, y - \beta \exp\frac{x^2}{2 \alpha} \leq x^*\,y -\beta
\end{align*}
where $x^*= \argmax_{x} x\, y - f(x)$. We now use the fact that $x^*$ satisfies $y = f'(x^*)$, to have
\begin{align*}
x^*=\sqrt{\alpha W\left(\frac{\alpha y^2}{\beta^2}\right)},
\end{align*}
where the $W(\cdot)$ is the Lambert function.
Using Lemma~\ref{lemma:lambert}, we obtain the stated bound.
\end{proof}

\begin{lemma}[ {\citep[Example 13.7]{BauschkeC2011}} ]
Let $f:\R \rightarrow (-\infty, +\infty]$ be even. Then $(f \circ \norm{\cdot})^*=f^* \circ \norm{\cdot}$.
\end{lemma}

\begin{corollary}
\label{cor:dual_exp_square}
Define $f(\theta)= \beta \exp\frac{\norm{\theta}^2}{2 \alpha}$, for $\alpha,\beta>0$. Then
\[
f^*(w) \leq  \norm{w} \sqrt{\alpha \log \left(\frac{\alpha \norm{w}^2}{\beta^2} +1 \right)} - \beta.
\]
\end{corollary}
